# （校园网）多设备使用

**Warning：应学校一人一号实名制要求，您对您的校园网账号的上网行为负责，所以即使采用了以下方法做到了设备多用，也请不要与他人共享使用你的账号或者借用他人你的账号。否则一切风险由你自己承担。**

目前基本上人人手上需要上网的设备都不只一个，尤其是当自己手机或者电脑同时有上网需求的时候，学校校园网只允许同时在线一台设备总显得有点小气。目前限制了设备数量的校园网均为需要认证的锐捷新/旧校园网。包括SCUNET、新有线、望江的旧有线等等。想要接触限制其实很容易，但是你需要一些额外的硬件。另外，这些方法不仅仅适用于校园网。对于可以自由选择运营商出口的新校园网的其他运营商也是同样适用的。

**原理**：校园网是基于设备网卡唯一标识来做认证的。只需要你只同时使用一台路由作认证后的在线设备，其余需要上网的设备连接路由器分发下来的子网就可以了。注意，这里的路由并不只是狭义的路由器，也可以是手机、电脑、平板等一切支持同时收发数据的计算机。


<div align="center">
  <img src="/assets/多设备原理图.jpg"/>
  <p>原理图</p>
</div>

.


常用方案：
- 针对有线新校园网，最简单。直接接路由器，在子网认证即可。
- 针对有线旧校园网，使用Mentohust在路由器上做认证即可。
- 针对SCUNET，使用路由器的普通中继功能即可。
- 其他方案。


### 有线新校园网

有线新校园网最简单，直接购买普通路由器即可使用。当然，为了确保您的网速不被普通路由器的性能所限制，建议还是不要购买便宜路由器。此外，如果你想要使用更多有趣的功能或者想要在路由器中输入锐捷web自动认证脚本的话(见书的最后部分，可以实现断网后自动认证重连)，建议使用能够刷多种固件系统（如openwrt）的通用智能路由器。以下以老毛子固件的路由器为例：

<div align="center">
  <img src="/assets/wan口接网口.jpg"/>
  <p>接线图</p>
</div>

使用方法就是将路由器的wan口（一般长得与其他lan口不一样或者有特殊标志）与有线接口用网线连接上，打开并登录路由器的管理页面（老毛子默认为“ http://192.168.123.1 ”），在“外部网络（WAN）”设置里，参照下图设置，之后应用即可：（主要是外网连接类型选择动态IP）

<div align="center">
  <img src="/assets/动态ip上网.jpg"/>
  <p>动态ip上网</p>
</div>

### 有线旧校园网

有线旧校园网采用锐捷认证，只需要使用路由器端的Mentohust认证脚本即可。老毛子固件已经内置该脚本，直接在“配置扩展环境 -> 锐捷认证”里设置好校园网账号和密码即可上网（注意先按照上面的连线图连线，按照动态ip上网的配置设置下连网类型）。对于其他固件系统，在刷入Mentohust脚本后，按照下面的命令参数启动即可：
```
sudo mentohust -u账号 -p密码 -a0 -d2 -b2 -v4.96 -w
```

<div align="center">
  <img src="/assets/锐捷参数.jpg"/>
  <p>老毛子固件内置锐捷认证的配置</p>
</div>

### SCUNET

SCUNET稍微麻烦一点，但是本质还是用中继代替有线接口，以老毛子为例：
- 首先设置路由器为无线桥接模式：
<div align="center">
  <img src="/assets/设置无线桥接模式.jpg"/>
  <p>设置无线桥接模式</p>
</div>

- 在设置好应用后，若你路由器所在的区域有SCUNET的信号，不出一会儿，你的浏览器就会自动弹出认证界面。认证后，该路由器下所有连接的设备均能上网了。

### 其他方案

其实，如上面所说，不一定需要路由器来做中继的机器。手机/电脑等支持的设备都可以。

电脑的话，许多同学之前用的无非是一键软件之类的，例如什么WiFi共享大师之类的，不稳定不说还有广告之类的，现在Windows10系统已经自带了移动热点功能，可以方便的将自己的有线或无线网络共享给其他设备了。

<div align="center">
  <img src="/assets/win10移动热点.jpg"/>
  <p>win10的移动热点功能</p>
</div>

部分支持双频WIFI的手机也可以使用类似功能：连接WiFi的同时也分享WiFi。例如小米6等。

总之，办法总比困难多。
